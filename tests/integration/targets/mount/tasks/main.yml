---
######################################################
# TC_01: Mounting a Filesystem
######################################################
- include: "tc01_s01_mount.yml"
- include: "tc01_s01_mount.yml"
#
######################################################
# TC_02: Unmount a Filesystem
######################################################
- include: "tc02_s01_unmount.yml"
- include: "tc02_s01_unmount.yml"
#
#####################################################
# TC_03: Mount all same type
#####################################################
- include: "tc03_s01_mount_group.yml"
- include: "tc03_s01_mount_group.yml"
#
######################################################
# TC_04: Umount all from mount group
######################################################
- include: "tc04_s01_unmount_mount_group.yml"
- include: "tc04_s01_unmount_mount_group.yml"

######################################################
# TC_01: Mounting a NFS
######################################################
- include: "tc01_s02_mount_nfs.yml"
- include: "tc01_s02_mount_nfs.yml"

######################################################
# TC_02: Unmount a NFS
######################################################
- include: "tc02_s02_unmount_nfs.yml"
- include: "tc02_s02_unmount_nfs.yml"

#####################################################
# TC_03: Umount all remote filesystems
#####################################################
- include: "tc03_s02_unmount_remote_all.yml"
- include: "tc03_s02_unmount_remote_all.yml"

#####################################################
# TC_04: Umount all remote filesytems from a node
#####################################################
- include: "tc04_s02_unmount_remote_node.yml"
- include: "tc04_s02_unmount_remote_node.yml"

######################################################
# TC_02: Unmount a NFS - no entry in /etc/filesystems
######################################################
- include: "tc01_s03_unmount_nfs_no_entry.yml"
- include: "tc01_s03_unmount_nfs_no_entry.yml"

#####################################################
# TC_02: Umount all remote filesystems
#####################################################
- include: "tc02_s03_unmount_remote_all_no_entry.yml"
- include: "tc02_s03_unmount_remote_all_no_entry.yml"

#####################################################
# TC_03: Umount all remote filesytems from a node
#####################################################
- include: "tc03_s03_unmount_remote_node_no_entry.yml"
- include: "tc03_s03_unmount_remote_node_no_entry.yml"

######################################################
# TC_xx: List mounted filesystems
######################################################
- name: "TEST1: List all mounted filesystems"
  mount:
    state: show
  register: results
- debug: var=results

- name: "TEST_ASSERT: assert message"
  assert:
    that:
    - results.msg.find( "Mounted filesystems listed in stdout" ) != 1
